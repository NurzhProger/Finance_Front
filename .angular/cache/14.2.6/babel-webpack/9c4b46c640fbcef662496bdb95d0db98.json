{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/organization.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/table\";\nimport * as i5 from \"primeng/paginator\";\nimport * as i6 from \"../loader/skeleton/skeleton.component\";\n\nfunction OrganizationComponent_div_0_p_table_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 11);\n    i0.ɵɵtext(2, \"\\u041D\\u043E\\u043C\\u0435\\u0440\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\", 12);\n    i0.ɵɵtext(4, \"\\u0411\\u0418\\u041D \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 13);\n    i0.ɵɵtext(6, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 11);\n    i0.ɵɵtext(8, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction OrganizationComponent_div_0_p_table_1_2_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 15)(1, \"td\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 17);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 18);\n    i0.ɵɵelement(8, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const org_r11 = ctx.$implicit;\n    const ri_r12 = ctx.rowIndex;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ri_r12 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", org_r11.bin, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", org_r11.name, \" \");\n  }\n}\n\nfunction OrganizationComponent_div_0_p_table_1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, OrganizationComponent_div_0_p_table_1_2_ng_template_0_Template, 9, 3, \"ng-template\", 14);\n  }\n}\n\nfunction OrganizationComponent_div_0_p_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 8);\n    i0.ɵɵtemplate(1, OrganizationComponent_div_0_p_table_1_ng_template_1_Template, 9, 0, \"ng-template\", 9);\n    i0.ɵɵtemplate(2, OrganizationComponent_div_0_p_table_1_2_Template, 1, 0, null, 10);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const organizations_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"value\", organizations_r3.results)(\"scrollable\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 3, organizations_r3.results));\n  }\n}\n\nfunction OrganizationComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" \\u041D\\u0435\\u0442 \\u043D\\u0438 \\u043E\\u0434\\u043D\\u043E\\u0439 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction OrganizationComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, OrganizationComponent_div_0_p_table_1_Template, 4, 5, \"p-table\", 3);\n    i0.ɵɵtemplate(2, OrganizationComponent_div_0_ng_template_2_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"span\", 6);\n    i0.ɵɵtext(6, \"Items per page: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p-paginator\", 7);\n    i0.ɵɵlistener(\"onPageChange\", function OrganizationComponent_div_0_Template_p_paginator_onPageChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onPageChange($event));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const organizations_r3 = ctx.ngIf;\n\n    const _r5 = i0.ɵɵreference(3);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", organizations_r3)(\"ngIfElse\", _r5);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"first\", ctx_r0.first)(\"rows\", ctx_r0.rows)(\"totalRecords\", organizations_r3.count || 0)(\"showCurrentPageReport\", true)(\"showPageLinks\", true)(\"showFirstLastIcon\", true);\n  }\n}\n\nfunction OrganizationComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-skeleton\");\n  }\n}\n\nexport class OrganizationComponent {\n  constructor(orgService) {\n    this.orgService = orgService;\n    this.first = 0;\n    this.rows = 1;\n  }\n\n  ngOnInit() {\n    this.organizations$ = this.orgService.fetch();\n  }\n\n  onPageChange(event) {\n    console.log(event);\n    this.first = event.first;\n    this.rows = event.rows;\n  }\n\n}\n\nOrganizationComponent.ɵfac = function OrganizationComponent_Factory(t) {\n  return new (t || OrganizationComponent)(i0.ɵɵdirectiveInject(i1.OrganizationsService));\n};\n\nOrganizationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrganizationComponent,\n  selectors: [[\"app-organization\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[\"class\", \"card\", 4, \"ngIf\", \"ngIfElse\"], [\"loader\", \"\"], [1, \"card\"], [\"scrollHeight\", \"calc(100vh - 200px)\", \"selectionMode\", \"single\", \"styleClass\", \"p-datatable-sm p-datatable-striped p-datatable-gridlines\", 3, \"value\", \"scrollable\", 4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [1, \"flex\", \"align-items-center\", \"justify-content-end\"], [1, \"mx-1\", \"text-color\"], [\"currentPageReportTemplate\", \"{first} - {last} of {totalRecords}\", 3, \"first\", \"rows\", \"totalRecords\", \"showCurrentPageReport\", \"showPageLinks\", \"showFirstLastIcon\", \"onPageChange\"], [\"scrollHeight\", \"calc(100vh - 200px)\", \"selectionMode\", \"single\", \"styleClass\", \"p-datatable-sm p-datatable-striped p-datatable-gridlines\", 3, \"value\", \"scrollable\"], [\"pTemplate\", \"header\"], [4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"5%\", \"text-align\", \"center\"], [2, \"width\", \"20%\", \"text-align\", \"center\"], [2, \"width\", \"70%\", \"text-align\", \"center\"], [\"pTemplate\", \"body\"], [1, \"cursor-pointer\"], [2, \"text-align\", \"center\", \"font-weight\", \"700\"], [2, \"text-align\", \"center\"], [2, \"padding\", \"0\", \"margin\", \"0\"], [1, \"flex\", \"align-items-center\", \"justify-content-center\", \"gap-2\"], [1, \"center\"]],\n  template: function OrganizationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, OrganizationComponent_div_0_Template, 8, 8, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, OrganizationComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.organizations$))(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.PrimeTemplate, i4.Table, i5.Paginator, i6.SkeletonComponent, i2.AsyncPipe, i2.KeyValuePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvcmdhbml6YXRpb24uY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAKYA,2BAAI,CAAJ,EAAI,IAAJ,EAAI,EAAJ;IAC4CA;IAAKA;IAC7CA;IAAyCA;IAAeA;IACxDA;IAAyCA;IAAwBA;IACjEA;IAAwCA;IAAQA;;;;;;IAIpDA,+BAA2B,CAA3B,EAA2B,IAA3B,EAA2B,EAA3B;IACsDA;IAAUA;IAC5DA;IACIA;IACJA;IACAA;IACIA;IACJA;IACAA;IACIA;IAEJA;;;;;;IAVkDA;IAAAA;IAE9CA;IAAAA;IAGAA;IAAAA;;;;;;IAPZA;;;;;;IAXJA;IAGIA;IAQAA;;IAeJA;;;;;IA1B2CA,iDAA+B,YAA/B,EAA+B,IAA/B;IAWkCA;IAAAA;;;;;;IAiBzEA;IACIA;IACJA;;;;;;;;IA/BRA;IACIA;IA2BAA;IAKAA,+BAAyD,CAAzD,EAAyD,MAAzD,EAAyD,CAAzD;IACkCA;IAAgBA;IAC9CA;IACIA;MAAAA;MAAA;MAAA,OAAgBA,4CAAhB;IAAoC,CAApC;IAE2BA;;;;;;;;;IArCzBA;IAAAA,wCAAqB,UAArB,EAAqBC,GAArB;IAkCOD;IAAAA,qCAAe,MAAf,EAAeE,WAAf,EAAe,cAAf,EAAeC,2BAAf,EAAe,uBAAf,EAAe,IAAf,EAAe,eAAf,EAAe,IAAf,EAAe,mBAAf,EAAe,IAAf;;;;;;IAQjBH;;;;ACjCJ,OAAM,MAAOI,qBAAP,CAA4B;EAEhCC,YAAoBC,UAApB,EAAoD;IAAhC;IAGpB,aAAQ,CAAR;IACA,YAAO,CAAP;EAJyD;;EAMzDC,QAAQ;IACN,KAAKC,cAAL,GAAsB,KAAKF,UAAL,CAAgBG,KAAhB,EAAtB;EACD;;EAEDC,YAAY,CAACC,KAAD,EAAW;IACrBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IAEA,KAAKG,KAAL,GAAaH,KAAK,CAACG,KAAnB;IACA,KAAKC,IAAL,GAAYJ,KAAK,CAACI,IAAlB;EACD;;AAjB+B;;;mBAArBX,uBAAqBJ;AAAA;;;QAArBI;EAAqBY;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVlCpB;;MA0CAA;;;;;;MA1CmBA,gEAA+B,UAA/B,EAA+BqB,GAA/B","names":["i0","_r5","ctx_r0","organizations_r3","OrganizationComponent","constructor","orgService","ngOnInit","organizations$","fetch","onPageChange","event","console","log","first","rows","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["D:\\Project_OpenSourse\\Finance_Front\\src\\app\\organization\\organization.component.html","D:\\Project_OpenSourse\\Finance_Front\\src\\app\\organization\\organization.component.ts"],"sourcesContent":["<div class=\"card\" *ngIf=\"(organizations$ | async) as organizations; else loader\">\n    <p-table *ngIf=\"organizations; else empty\" [value]=\"organizations.results\" [scrollable]=\"true\"\n        scrollHeight=\"calc(100vh - 200px)\" selectionMode=\"single\"\n        styleClass=\"p-datatable-sm p-datatable-striped p-datatable-gridlines\">\n        <ng-template pTemplate=\"header\">\n            <tr>\n                <th style=\"width:5%; text-align:center\">Номер</th>\n                <th style=\"width:20%; text-align:center\">БИН организации</th>\n                <th style=\"width:70%; text-align:center\">Наименование организации</th>\n                <th style=\"width:5%; text-align:center\">Действия</th>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-org let-ri=\"rowIndex\" *ngFor=\"let item of organizations.results| keyvalue\">\n            <tr class=\"cursor-pointer\">\n                <td style=\"text-align: center; font-weight: 700;\">{{ri + 1}}</td>\n                <td style=\"text-align:center\">\n                    {{org.bin}}\n                </td>\n                <td>\n                    {{org.name}}\n                </td>\n                <td style=\"padding: 0; margin:0;\">\n                    <div class=\"flex align-items-center justify-content-center gap-2\">\n                    </div>\n                </td>\n            </tr>\n        </ng-template>\n    </p-table>\n    <ng-template #empty>\n        <div class=\"center\">\n            Нет ни одной организации\n        </div>\n    </ng-template>\n    <div class=\"flex align-items-center justify-content-end\">\n        <span class=\"mx-1 text-color\">Items per page: </span>\n        <p-paginator [first]=\"first\" [rows]=\"rows\" [totalRecords]=\"organizations.count || 0\"\n            (onPageChange)=\"onPageChange($event)\" [showCurrentPageReport]=\"true\"\n            currentPageReportTemplate=\"{first} - {last} of {totalRecords}\" [showPageLinks]=\"true\"\n            [showFirstLastIcon]=\"true\"></p-paginator>\n    </div>\n</div>\n\n<ng-template #loader>\n    <app-skeleton></app-skeleton>\n</ng-template>","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { listOrg } from '../interfaces';\nimport { OrganizationsService } from '../services/organization.service';\n\n@Component({\n  selector: 'app-organization',\n  templateUrl: './organization.component.html',\n  styleUrls: ['./organization.component.css']\n})\nexport class OrganizationComponent implements OnInit {\n\n  constructor(private orgService: OrganizationsService) { }\n\n  organizations$: Observable<listOrg>\n  first = 0\n  rows = 1\n\n  ngOnInit() {\n    this.organizations$ = this.orgService.fetch()\n  }\n\n  onPageChange(event: any) {\n    console.log(event);\n\n    this.first = event.first;\n    this.rows = event.rows;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}