{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/organization.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/table\";\nimport * as i5 from \"primeng/paginator\";\nimport * as i6 from \"../loader/skeleton/skeleton.component\";\n\nfunction OrganizationComponent_div_0_p_table_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 9);\n    i0.ɵɵtext(2, \"\\u041D\\u043E\\u043C\\u0435\\u0440\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\", 10);\n    i0.ɵɵtext(4, \"\\u0411\\u0418\\u041D \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 11);\n    i0.ɵɵtext(6, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 9);\n    i0.ɵɵtext(8, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction OrganizationComponent_div_0_p_table_1_2_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 13)(1, \"td\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 15);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 16);\n    i0.ɵɵelement(8, \"div\", 17);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const org_r12 = ctx.$implicit;\n    const ri_r13 = ctx.rowIndex;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ri_r13 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", org_r12.bin, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", org_r12.name, \" \");\n  }\n}\n\nfunction OrganizationComponent_div_0_p_table_1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, OrganizationComponent_div_0_p_table_1_2_ng_template_0_Template, 9, 3, \"ng-template\", 12);\n  }\n}\n\nfunction OrganizationComponent_div_0_p_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 6);\n    i0.ɵɵtemplate(1, OrganizationComponent_div_0_p_table_1_ng_template_1_Template, 9, 0, \"ng-template\", 7);\n    i0.ɵɵtemplate(2, OrganizationComponent_div_0_p_table_1_2_Template, 1, 0, null, 8);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const organizations_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"value\", organizations_r3.results)(\"scrollable\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 3, organizations_r3.results));\n  }\n}\n\nfunction OrganizationComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \" \\u041D\\u0435\\u0442 \\u043D\\u0438 \\u043E\\u0434\\u043D\\u043E\\u0439 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction OrganizationComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"span\", 20);\n    i0.ɵɵtext(2, \"\\u0423\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p-paginator\", 21);\n    i0.ɵɵlistener(\"onPageChange\", function OrganizationComponent_div_0_div_4_Template_p_paginator_onPageChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onPageChange($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const organizations_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate3(\"currentPageReportTemplate\", \"\", ctx_r7.first + 1, \" - \", (ctx_r7.first / ctx_r7.rows + 1) * ctx_r7.rows, \" \\u0438\\u0437 \", organizations_r3.count, \" \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432\");\n    i0.ɵɵproperty(\"first\", ctx_r7.first)(\"rows\", ctx_r7.rows)(\"totalRecords\", organizations_r3.count || 0)(\"showCurrentPageReport\", true)(\"showPageLinks\", true)(\"showFirstLastIcon\", true);\n  }\n}\n\nfunction OrganizationComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, OrganizationComponent_div_0_p_table_1_Template, 4, 5, \"p-table\", 3);\n    i0.ɵɵtemplate(2, OrganizationComponent_div_0_ng_template_2_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(4, OrganizationComponent_div_0_div_4_Template, 4, 9, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const organizations_r3 = ctx.ngIf;\n\n    const _r5 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", organizations_r3.count !== 0)(\"ngIfElse\", _r5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", organizations_r3.count !== 0);\n  }\n}\n\nfunction OrganizationComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-skeleton\");\n  }\n}\n\nexport class OrganizationComponent {\n  constructor(orgService) {\n    this.orgService = orgService;\n    this.first = 0;\n    this.rows = 3;\n    this.last = 3;\n  }\n\n  ngOnInit() {\n    this.fetchOrg();\n  }\n\n  fetchOrg() {\n    let params = {\n      limit: this.rows.toString(),\n      offset: this.first.toString()\n    };\n    this.organizations$ = this.orgService.fetch(params);\n  }\n\n  onPageChange(event) {\n    this.first = event.first;\n    this.rows = event.rows;\n    this.fetchOrg();\n  }\n\n}\n\nOrganizationComponent.ɵfac = function OrganizationComponent_Factory(t) {\n  return new (t || OrganizationComponent)(i0.ɵɵdirectiveInject(i1.OrganizationsService));\n};\n\nOrganizationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrganizationComponent,\n  selectors: [[\"app-organization\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[\"class\", \"card\", 4, \"ngIf\", \"ngIfElse\"], [\"loader\", \"\"], [1, \"card\"], [\"scrollHeight\", \"calc(100vh - 200px)\", \"selectionMode\", \"single\", \"styleClass\", \"p-datatable-sm p-datatable-striped p-datatable-gridlines\", 3, \"value\", \"scrollable\", 4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [\"class\", \"flex align-items-center justify-content-center\", 4, \"ngIf\"], [\"scrollHeight\", \"calc(100vh - 200px)\", \"selectionMode\", \"single\", \"styleClass\", \"p-datatable-sm p-datatable-striped p-datatable-gridlines\", 3, \"value\", \"scrollable\"], [\"pTemplate\", \"header\"], [4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"5%\", \"text-align\", \"center\"], [2, \"width\", \"20%\", \"text-align\", \"center\"], [2, \"width\", \"70%\", \"text-align\", \"center\"], [\"pTemplate\", \"body\"], [1, \"cursor-pointer\"], [2, \"text-align\", \"center\", \"font-weight\", \"700\"], [2, \"text-align\", \"center\"], [2, \"padding\", \"0\", \"margin\", \"0\"], [1, \"flex\", \"align-items-center\", \"justify-content-center\", \"gap-2\"], [1, \"center\"], [1, \"flex\", \"align-items-center\", \"justify-content-center\"], [1, \"mx-1\", \"text-color\"], [3, \"first\", \"rows\", \"totalRecords\", \"showCurrentPageReport\", \"currentPageReportTemplate\", \"showPageLinks\", \"showFirstLastIcon\", \"onPageChange\"]],\n  template: function OrganizationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, OrganizationComponent_div_0_Template, 5, 3, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, OrganizationComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.organizations$))(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.PrimeTemplate, i4.Table, i5.Paginator, i6.SkeletonComponent, i2.AsyncPipe, i2.KeyValuePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvcmdhbml6YXRpb24uY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAKYA,2BAAI,CAAJ,EAAI,IAAJ,EAAI,CAAJ;IAC4CA;IAAKA;IAC7CA;IAAyCA;IAAeA;IACxDA;IAAyCA;IAAwBA;IACjEA;IAAwCA;IAAQA;;;;;;IAIpDA,+BAA2B,CAA3B,EAA2B,IAA3B,EAA2B,EAA3B;IACsDA;IAAUA;IAC5DA;IACIA;IACJA;IACAA;IACIA;IACJA;IACAA;IACIA;IAEJA;;;;;;IAVkDA;IAAAA;IAE9CA;IAAAA;IAGAA;IAAAA;;;;;;IAPZA;;;;;;IAXJA;IAGIA;IAQAA;;IAeJA;;;;;IA1BuDA,iDAA+B,YAA/B,EAA+B,IAA/B;IAWsBA;IAAAA;;;;;;IAiBzEA;IACIA;IACJA;;;;;;;;IAEJA,gCAA8F,CAA9F,EAA8F,MAA9F,EAA8F,EAA9F;IACkCA;IAAOA;IACrCA;IACIA;MAAAA;MAAA;MAAA,OAAgBA,4CAAhB;IAAoC,CAApC;IAEkDA;;;;;;IADlDA;IAAAA;IAFSA,qCAAe,MAAf,EAAeC,WAAf,EAAe,cAAf,EAAeC,2BAAf,EAAe,uBAAf,EAAe,IAAf,EAAe,eAAf,EAAe,IAAf,EAAe,mBAAf,EAAe,IAAf;;;;;;IAnCrBF;IACIA;IA2BAA;IAKAA;IAOJA;;;;;;;;IAvCcA;IAAAA,oDAAiC,UAAjC,EAAiCG,GAAjC;IAgCJH;IAAAA;;;;;;IAUNA;;;;ACjCJ,OAAM,MAAOI,qBAAP,CAA4B;EAEhCC,YAAoBC,UAApB,EAAoD;IAAhC;IAGpB,aAAQ,CAAR;IACA,YAAO,CAAP;IACA,YAAO,CAAP;EALyD;;EAOzDC,QAAQ;IACN,KAAKC,QAAL;EACD;;EAEDA,QAAQ;IAEN,IAAIC,MAAM,GAAG;MACXC,KAAK,EAAE,KAAKC,IAAL,CAAUC,QAAV,EADI;MAEXC,MAAM,EAAE,KAAKC,KAAL,CAAWF,QAAX;IAFG,CAAb;IAKA,KAAKG,cAAL,GAAsB,KAAKT,UAAL,CAAgBU,KAAhB,CAAsBP,MAAtB,CAAtB;EAED;;EAEDQ,YAAY,CAACC,KAAD,EAAW;IACrB,KAAKJ,KAAL,GAAaI,KAAK,CAACJ,KAAnB;IACA,KAAKH,IAAL,GAAYO,KAAK,CAACP,IAAlB;IACA,KAAKH,QAAL;EACD;;AA5B+B;;;mBAArBJ,uBAAqBJ;AAAA;;;QAArBI;EAAqBe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVlCvB;;MA0CAA;;;;;;MA1CmBA,gEAA+B,UAA/B,EAA+BwB,GAA/B","names":["i0","ctx_r7","organizations_r3","_r5","OrganizationComponent","constructor","orgService","ngOnInit","fetchOrg","params","limit","rows","toString","offset","first","organizations$","fetch","onPageChange","event","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["D:\\Project_OpenSourse\\Finance_Front\\src\\app\\organization\\organization.component.html","D:\\Project_OpenSourse\\Finance_Front\\src\\app\\organization\\organization.component.ts"],"sourcesContent":["<div class=\"card\" *ngIf=\"(organizations$ | async) as organizations; else loader\">\r\n    <p-table *ngIf=\"organizations.count !== 0; else empty\" [value]=\"organizations.results\" [scrollable]=\"true\"\r\n        scrollHeight=\"calc(100vh - 200px)\" selectionMode=\"single\"\r\n        styleClass=\"p-datatable-sm p-datatable-striped p-datatable-gridlines\">\r\n        <ng-template pTemplate=\"header\">\r\n            <tr>\r\n                <th style=\"width:5%; text-align:center\">Номер</th>\r\n                <th style=\"width:20%; text-align:center\">БИН организации</th>\r\n                <th style=\"width:70%; text-align:center\">Наименование организации</th>\r\n                <th style=\"width:5%; text-align:center\">Действия</th>\r\n            </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-org let-ri=\"rowIndex\" *ngFor=\"let item of organizations.results| keyvalue\">\r\n            <tr class=\"cursor-pointer\">\r\n                <td style=\"text-align: center; font-weight: 700;\">{{ri + 1}}</td>\r\n                <td style=\"text-align:center\">\r\n                    {{org.bin}}\r\n                </td>\r\n                <td>\r\n                    {{org.name}}\r\n                </td>\r\n                <td style=\"padding: 0; margin:0;\">\r\n                    <div class=\"flex align-items-center justify-content-center gap-2\">\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </ng-template>\r\n    </p-table>\r\n    <ng-template #empty>\r\n        <div class=\"center\">\r\n            Нет ни одной организации\r\n        </div>\r\n    </ng-template>\r\n    <div *ngIf=\"organizations.count !== 0\" class=\"flex align-items-center justify-content-center\">\r\n        <span class=\"mx-1 text-color\">Указано</span>\r\n        <p-paginator [first]=\"first\" [rows]=\"rows\" [totalRecords]=\"organizations.count || 0\"\r\n            (onPageChange)=\"onPageChange($event)\" [showCurrentPageReport]=\"true\"\r\n            currentPageReportTemplate=\"{{first+1}} - {{((this.first / this.rows) + 1) * rows}} из {{organizations.count}} элементов\"\r\n            [showPageLinks]=\"true\" [showFirstLastIcon]=\"true\"></p-paginator>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #loader>\r\n    <app-skeleton></app-skeleton>\r\n</ng-template>","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { listOrg } from '../interfaces';\r\nimport { OrganizationsService } from '../services/organization.service';\r\n\r\n@Component({\r\n  selector: 'app-organization',\r\n  templateUrl: './organization.component.html',\r\n  styleUrls: ['./organization.component.css']\r\n})\r\nexport class OrganizationComponent implements OnInit {\r\n\r\n  constructor(private orgService: OrganizationsService) { }\r\n\r\n  organizations$: Observable<listOrg>\r\n  first = 0\r\n  rows = 3\r\n  last = 3\r\n\r\n  ngOnInit() {\r\n    this.fetchOrg()\r\n  }\r\n\r\n  fetchOrg() {\r\n\r\n    let params = {\r\n      limit: this.rows.toString(),\r\n      offset: this.first.toString()\r\n    }\r\n\r\n    this.organizations$ = this.orgService.fetch(params)\r\n\r\n  }\r\n\r\n  onPageChange(event: any) {\r\n    this.first = event.first\r\n    this.rows = event.rows\r\n    this.fetchOrg()\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}